<!-- extend from base layout -->
{% extends "base.html" %}

{% block content %}
  <h1 class="text-center">Change your Password</h1>
  <form class="form-horizontal" method="post" id="form-register">
    {{ password_form.csrf_token() }}
    <h3 class="text-center">You have the following authentication-methods</h3>
    {% if username%}
    <div class="form-group{% if password_form.username.errors or has_error %} has-error{% endif %}">
      <label for="input-email" class="col-sm-4 control-label">Username</label>
      <div class="col-sm-8">
        <input type="text" class="form-control" id="input-ldap-login" name="{{password_form.username.name}}" value="{{ password_form.username.data }}" readonly>
      </div>
    </div>
    <div class="text-center"> You have ldap authentification. To change the password of the ldap account, please contact the administrator</div>
    {% endif %}
    {% if authentication_email%}
    <div class="text-center"> You have the following email as an authentication-method. Please fill the password fields to reset your password</div>
    <div class="form-group{% if password_form.email.errors or has_error %} has-error{% endif %}">
      <label for="input-email" class="col-sm-4 control-label">Email</label>
      <div class="col-sm-8">
        <input type="text" class="form-control" id="input-email" name="{{password_form.email.name}}" value="{{ password_form.email.data }}" readonly>
      </div>
    </div>
    <div class="form-group{% if password_form.password.errors or has_error %} has-error{% endif %}">
      <label for="input-password" class="col-sm-4 control-label">Password</label>
      <div class="col-sm-8">
        <input type="password" class="form-control" id="input-password" name="{{password_form.password.name}}" placeholder="New Password">
        {% for error in password_form.password.errors %}
            <span class='help-block'>{{error}}</span>
        {% endfor %}
      </div>
    </div>
    <div class="form-group{% if password_form.password2.errors or has_error %} has-error{% endif %}">
      <label for="input-password" class="col-sm-4 control-label">Retype Password</label>
      <div class="col-sm-8">
        <input type="password" class="form-control" id="input-password2" name="{{password_form.password2.name}}" placeholder="Retype New Password">
        {% for error in password_form.password2.errors %}
             <span class='help-block'>{{error}}</span>
        {% endfor %}
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-4 col-sm-8">
        <button type="submit" class="btn btn-primary">Change Password</button>
      </div>
    </div>
    {% endif %}
  </form>
{% endblock %}
